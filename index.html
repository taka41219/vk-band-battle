<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒ´ã‚£ã‚¸ãƒ¥ã‚¢ãƒ«ç³»ãƒãƒ³ãƒ‰æˆ¦é—˜åŠ›ãƒãƒˆãƒ«</title>

<style>
body {
  font-family: sans-serif;
  background: #111;
  color: #fff;
  text-align: center;
  padding: 10px;
}
button {
  padding: 10px 20px;
  margin: 5px;
  font-size: 16px;
}
input {
  padding: 8px;
  font-size: 16px;
  width: 80%;
  margin: 5px;
}
#battleScreen { display: none; }
#log {
  background: #000;
  padding: 10px;
  margin-top: 10px;
  height: 200px;
  overflow-y: auto;
  text-align: left;
}
.hidden { display: none; }
</style>
</head>

<body>

<h1>ğŸ¸ ãƒ´ã‚£ã‚¸ãƒ¥ã‚¢ãƒ«ç³»ãƒãƒ³ãƒ‰<br>æˆ¦é—˜åŠ›ãƒãƒˆãƒ«</h1>

<!-- ãƒ¢ãƒ¼ãƒ‰é¸æŠ -->
<div id="modeScreen">
  <button onclick="selectMode('manual')">æ‰‹å‹•å¯¾æˆ¦</button>
  <button onclick="selectMode('cpu')">CPUå¯¾æˆ¦</button>
</div>

<!-- ãƒãƒˆãƒ«ç”»é¢ -->
<div id="battleScreen">
  <h2 id="modeLabel"></h2>

  <input id="playerBand" placeholder="è‡ªåˆ†ã®ãƒãƒ³ãƒ‰å">
  <input id="enemyBand" placeholder="å¯¾æˆ¦ç›¸æ‰‹ã®ãƒãƒ³ãƒ‰å">

  <div>
    <button onclick="startBattle()">ãƒãƒˆãƒ«é–‹å§‹</button>
    <button onclick="retire()">ãƒªã‚¿ã‚¤ã‚¢</button>
  </div>

  <div id="status"></div>
  <div id="log"></div>

  <div id="nameEntry" class="hidden">
    <input id="userName" placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ ">
    <button onclick="saveRecord()">ãƒ©ãƒ³ã‚­ãƒ³ã‚°ç™»éŒ²</button>
  </div>
</div>

<script>
let mode = "";
let turn = 0;
let player, enemy;
let winCount = 0;

const cpuBands = [
  "X JAPAN",
  "LUNA SEA",
  "DIR EN GREY",
  "MALICE MIZER",
  "the GazettE"
];

function rand(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

function createBand(name) {
  return {
    name,
    hp: rand(1, 10000),
    atk: rand(100, 9999),
    def: rand(1, 5000),
    spd: rand(1, 100)
  };
}

/* ===== ãƒ¢ãƒ¼ãƒ‰é¸æŠ ===== */
function selectMode(m) {
  mode = m;

  document.getElementById("modeScreen").style.display = "none";
  document.getElementById("battleScreen").style.display = "block";

  document.getElementById("modeLabel").textContent =
    m === "manual" ? "æ‰‹å‹•å¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰" : "CPUå¯¾æˆ¦ãƒ¢ãƒ¼ãƒ‰";

  // ğŸ”¥ ã“ã“ãŒä¿®æ­£ç‚¹
  if (m === "cpu") {
    document.getElementById("enemyBand").style.display = "none";
  } else {
    document.getElementById("enemyBand").style.display = "inline-block";
